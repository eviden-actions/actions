# This is the workflow to validate a PR
#
name: Lint Pull Request

on:
  pull_request_target:
    types: [opened, synchronize, reopened]

jobs:
  lint-pr:
    name: 'ğŸ•µï¸â€â™‚ï¸ Lint Commit Message'
    runs-on: ubuntu-latest
    # container: node:lts-bullseye

    steps:
      - name: 'â˜ï¸ Checkout repository'
        uses: actions/checkout@v2
        with:
          ref: ${{ github.event.pull_request.head.sha }}
          persist-credentials: false

      # check for the most recent release: https://github.com/Namchee/conventional-pr/releases
      - name: 'âœ… Lint PR'
        uses: Namchee/conventional-pr@v0.9.0
        with:
          access_token: ${{ secrets.GITHUB_TOKEN }}
          label: 'â‰ï¸ invalid'
          branch_pattern: ''

      - name: 'ğŸ§¹ Cleanup workspace'
        uses: ATOS-Actions/clean-self-hosted-runner@v1
